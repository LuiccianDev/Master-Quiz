---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';

export async function getStaticPaths() {
  const courses = await getCollection('courses');
  return courses.map(course => ({
    params: { slug: course.slug },
    props: { course },
  }));
}

const { course } = Astro.props;
const { Content } = await course.render();
---

<BaseLayout title={course.data.title}>
    <main class="max-w-4xl mx-auto py-12 px-4">
        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
            <img src={course.data.imagen} alt={`Imagen de ${course.data.title}`} class="w-full h-64 object-cover">
            <div class="p-8">
                <h1 class="text-4xl font-bold text-gray-900 mb-4">{course.data.title}</h1>
                <div class="flex items-center space-x-4 mb-6 text-gray-600">
                    <span><span class="font-semibold">Tema:</span> {course.data.tema}</span>
                    <span><span class="font-semibold">Nivel:</span> {course.data.nivel}</span>
                    <span><span class="font-semibold">Duraci√≥n:</span> {course.data.duracion}</span>
                </div>
                <div class="prose max-w-none">
                    <Content />
                </div>
                <div class="mt-8">
                    <a href={course.data.enlace} class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors">
                        Ir al Quiz
                    </a>
                </div>
            </div>
        </div>
    </main>
</BaseLayout>
